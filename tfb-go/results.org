* m4.4xlarge, 2015-01-03

** json

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	3171.65	421.24KB	8.97ms	204.02ms
2	2	6666.06	0.86MB	297.65us	1.03ms
4	4	14318.51	1.86MB	0.95ms	202.35ms
8	8	28329.34	3.67MB	1.12ms	204.32ms
16	16	53173.65	6.90MB	550.33us	202.18ms
32	32	88373.20	11.46MB	652.93us	204.30ms
64	64	137673.88	17.86MB	672.69us	203.58ms
128	128	170790.33	22.15MB	832.43us	204.16ms


** db

*** original

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1469.75	200.63KB	677.68us	3.57ms
2	2	3009.93	410.86KB	661.26us	2.27ms
4	4	6508.17	0.87MB	611.78us	2.35ms
8	8	13741.84	1.83MB	580.68us	2.05ms
16	16	26559.41	3.54MB	600.48us	2.30ms
32	32	45226.77	6.03MB	748.44us	203.75ms
64	64	45944.75	6.12MB	1.45ms	203.71ms
128	128	45874.52	6.12MB	3.08ms	206.49ms

*** pooled random

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1568.44	214.09KB	634.53us	2.91ms
2	2	2956.81	403.60KB	673.05us	2.01ms
4	4	6495.00	0.87MB	613.30us	2.23ms
8	8	13841.81	1.85MB	576.12us	2.01ms
16	16	26730.08	3.56MB	597.12us	2.14ms
32	32	45382.45	6.05MB	703.89us	3.20ms
64	64	46268.50	6.17MB	1.42ms	10.75ms
128	128	45835.41	6.11MB	3.02ms	31.95ms

*** prepared statements

http://172.16.0.104:8080/db
Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1492.75	203.77KB	667.23us	4.44ms
2	2	2938.07	401.05KB	677.27us	2.61ms
4	4	6505.05	0.87MB	612.78us	2.72ms
8	8	13745.92	1.83MB	580.16us	2.63ms
16	16	26605.91	3.55MB	599.98us	2.42ms
32	32	45466.27	6.06MB	702.34us	3.74ms
64	64	45903.04	6.12MB	1.43ms	10.72ms
128	128	45516.47	6.07MB	3.05ms	30.54ms


** queries

*** 1

**** original

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1598.20	221.28KB	622.67us	1.20ms
2	2	3004.15	415.93KB	662.44us	1.32ms
4	4	6317.08	0.85MB	631.22us	1.46ms
8	8	13620.21	1.84MB	585.50us	1.68ms
16	16	26084.32	3.53MB	612.92us	4.50ms
32	32	43133.20	5.83MB	751.78us	4.27ms
64	64	43775.23	5.92MB	1.50ms	9.91ms
128	128	45635.66	6.17MB	3.03ms	29.28ms

**** pooled random

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1637.46	226.71KB	607.74us	1.25ms
2	2	3035.72	420.31KB	653.31us	1.51ms
4	4	6370.80	0.86MB	625.88us	1.70ms
8	8	13692.91	1.85MB	582.91us	1.57ms
16	16	26090.93	3.53MB	611.96us	2.41ms
32	32	43072.95	5.82MB	753.00us	3.90ms
64	64	43652.68	5.90MB	1.50ms	10.53ms
128	128	45646.30	6.17MB	3.03ms	27.70ms

*** 5

**** original

1	1	538.34	141.87KB	1.85ms	2.65ms
2	2	991.91	261.41KB	2.01ms	2.71ms
4	4	2191.50	577.58KB	1.82ms	2.54ms
8	8	4396.64	1.13MB	1.82ms	3.02ms
16	16	8473.49	2.18MB	1.89ms	4.34ms
32	32	9846.64	2.53MB	3.25ms	8.91ms
64	64	9481.60	2.44MB	6.73ms	22.34ms
128	128	9560.05	2.46MB	13.44ms	52.88ms

**** pooled random

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	542.86	143.06KB	1.84ms	2.47ms
2	2	1013.66	267.15KB	1.97ms	2.82ms
4	4	2208.73	582.11KB	1.81ms	2.86ms
8	8	4419.42	1.14MB	1.81ms	3.21ms
16	16	8483.84	2.18MB	1.88ms	4.42ms
32	32	9769.38	2.51MB	3.26ms	8.88ms
64	64	9470.70	2.44MB	6.74ms	26.68ms
128	128	9550.97	2.46MB	13.46ms	56.65ms

*** 10

**** original

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	34.87	14.60KB	70.10ms	612.05ms
2	2	77.94	32.63KB	66.63ms	411.06ms
4	4	227.50	95.25KB	59.65ms	616.03ms
8	8	1369.36	573.38KB	37.28ms	615.52ms
16	16	4111.32	1.68MB	13.21ms	208.60ms
32	32	4810.61	1.97MB	6.65ms	13.17ms
64	64	4745.07	1.94MB	13.41ms	34.68ms
128	128	4786.36	1.96MB	26.68ms	81.86ms

**** pooled random

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	295.13	123.58KB	3.38ms	3.94ms
2	2	540.19	226.18KB	3.70ms	4.50ms
4	4	1205.30	504.67KB	3.31ms	4.23ms
8	8	2410.80	0.99MB	3.31ms	4.51ms
16	16	4549.13	1.86MB	3.51ms	9.09ms
32	32	4815.95	1.97MB	6.64ms	15.09ms
64	64	4742.18	1.94MB	13.42ms	33.85ms
128	128	4785.00	1.96MB	26.67ms	73.45ms

*** 20

**** original

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	154.90	112.93KB	6.45ms	7.40ms
2	2	283.88	206.95KB	7.04ms	7.97ms
4	4	632.49	461.12KB	6.32ms	7.22ms
8	8	1259.90	0.90MB	6.34ms	7.74ms
16	16	2365.99	1.68MB	6.76ms	9.18ms
32	32	2387.80	1.70MB	13.39ms	21.50ms
64	64	2389.46	1.70MB	26.75ms	52.93ms
128	128	2391.89	1.70MB	53.35ms	110.32ms

**** pooled random

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	155.23	113.16KB	6.44ms	7.31ms
2	2	283.89	206.96KB	7.04ms	8.14ms
4	4	632.85	461.33KB	6.31ms	7.25ms
8	8	1261.72	0.90MB	6.33ms	7.67ms
16	16	2370.43	1.69MB	6.74ms	8.97ms
32	32	2387.09	1.70MB	13.40ms	23.30ms
64	64	2374.67	1.69MB	26.79ms	55.47ms
128	128	2394.01	1.70MB	53.29ms	108.96ms

**** prepared statements

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	151.80	110.67KB	6.58ms	7.74ms
2	2	288.01	209.96KB	6.94ms	7.97ms
4	4	624.68	455.41KB	6.40ms	7.25ms
8	8	1258.47	0.90MB	6.35ms	7.72ms
16	16	2382.20	1.70MB	6.71ms	9.28ms
32	32	2371.39	1.69MB	13.48ms	22.67ms
64	64	2359.44	1.68MB	26.98ms	52.84ms
128	128	2371.13	1.69MB	53.82ms	111.59ms


** update

*** 1

**** original

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	349.31	48.36KB	2.97ms	21.99ms
2	2	781.37	108.19KB	2.71ms	15.02ms
4	4	1382.53	191.43KB	3.09ms	44.31ms
8	8	2844.12	393.78KB	2.99ms	36.51ms
16	16	5438.69	753.01KB	3.23ms	40.15ms
32	32	8416.48	1.14MB	4.08ms	57.59ms
64	64	11799.48	1.60MB	5.78ms	189.89ms
128	128	12629.00	1.71MB	10.31ms	99.29ms


**** prepared statements

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	372.30	51.55KB	2.82ms	40.43ms
2	2	762.52	105.58KB	2.80ms	26.99ms
4	4	1427.83	197.69KB	2.99ms	41.98ms
8	8	2748.05	380.49KB	3.27ms	116.01ms
16	16	5652.36	782.60KB	3.20ms	52.51ms
32	32	10481.72	1.42MB	3.58ms	65.31ms
64	64	16208.63	2.19MB	5.51ms	145.86ms
128	128	23571.69	3.19MB	6.36ms	296.68ms

*** 20

**** original

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	22.57	16.46KB	44.18ms	59.50ms
2	2	46.26	33.73KB	43.14ms	78.18ms
4	4	81.95	59.75KB	48.71ms	139.37ms
8	8	160.32	116.89KB	49.82ms	108.27ms
16	16	294.96	215.06KB	54.12ms	99.36ms
32	32	468.16	341.33KB	68.21ms	131.83ms
64	64	602.36	439.19KB	105.41ms	202.66ms
128	128	630.06	459.37KB	201.29ms	417.32ms

**** prepared statements

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	22.17	16.17KB	45.03ms	62.80ms
2	2	47.33	34.50KB	42.19ms	70.78ms
4	4	83.07	60.56KB	48.11ms	122.24ms
8	8	166.52	121.40KB	47.94ms	99.80ms
16	16	313.52	228.58KB	50.93ms	102.45ms
32	32	592.91	432.28KB	53.83ms	157.43ms
64	64	918.15	669.38KB	69.57ms	294.14ms
128	128	1243.36	0.89MB	102.96ms	369.58ms


* m4.4xlarge 2015-01-13 postgresql vs mysql, prepared statements vs non-prepared statements

** /json

4	4	16152.78	2.28MB	246.33us	0.97ms
8	8	31415.93	4.43MB	253.54us	0.93ms
16	16	57458.49	8.11MB	277.89us	1.31ms
32	32	92472.00	13.05MB	345.91us	1.30ms
64	64	142429.01	20.10MB	453.01us	5.60ms
128	128	171364.63	24.19MB	757.97us	10.96ms


** /db

*** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1718.10	254.65KB	578.98us	1.45ms
2	2	3346.33	495.99KB	1.92ms	202.23ms
4	4	6917.43	1.00MB	575.70us	2.36ms
8	8	15169.24	2.20MB	702.77us	207.65ms
16	16	28599.22	4.14MB	0.89ms	203.12ms
32	32	47678.24	6.90MB	1.21ms	204.33ms
64	64	69011.58	9.99MB	2.04ms	405.85ms
128	128	85939.91	12.44MB	1.82ms	204.67ms

*** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1647.79	244.24KB	603.84us	1.82ms
2	2	3095.00	458.74KB	1.30ms	200.74ms
4	4	7111.17	1.03MB	560.76us	5.63ms
8	8	15175.29	2.20MB	525.93us	4.49ms
16	16	28956.86	4.19MB	805.25us	204.42ms
32	32	49731.12	7.20MB	642.92us	6.88ms
64	64	70875.42	10.26MB	1.21ms	206.13ms
128	128	85458.72	12.37MB	1.77ms	24.54ms

** /dbInterpolate

*** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1577.06	233.74KB	631.05us	1.21ms
2	2	3032.66	449.50KB	1.32ms	201.80ms
4	4	7078.27	1.02MB	561.28us	2.12ms
8	8	15033.91	2.18MB	530.60us	1.85ms
16	16	28470.83	4.12MB	560.26us	2.10ms
32	32	47498.36	6.88MB	0.93ms	204.08ms
64	64	69941.07	10.12MB	1.00ms	201.22ms
128	128	85704.41	12.41MB	1.68ms	16.55ms

*** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1144.42	169.62KB	0.87ms	2.02ms
2	2	2166.62	321.13KB	0.92ms	2.15ms
4	4	4430.47	656.69KB	0.90ms	1.91ms
8	8	9725.69	1.41MB	1.17ms	206.32ms
16	16	18903.54	2.74MB	843.96us	2.42ms
32	32	31915.52	4.62MB	1.00ms	4.23ms
64	64	43319.12	6.27MB	1.78ms	39.33ms
128	128	63547.06	9.20MB	2.55ms	207.26ms


** /queries=20

*** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	169.74	125.73KB	5.89ms	14.34ms
2	2	330.57	244.84KB	6.04ms	12.59ms
4	4	665.25	492.74KB	6.70ms	218.03ms
8	8	1344.01	0.97MB	7.14ms	215.19ms
16	16	2457.31	1.78MB	7.08ms	212.09ms
32	32	3926.98	2.84MB	8.67ms	214.12ms
64	64	5460.79	3.95MB	12.17ms	221.13ms
128	128	7265.94	5.26MB	19.34ms	264.70ms

*** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	164.81	122.10KB	7.38ms	209.53ms
2	2	332.21	246.07KB	6.68ms	210.36ms
4	4	678.62	502.70KB	8.84ms	213.67ms
8	8	1383.76	1.00MB	5.94ms	210.82ms
16	16	2572.39	1.86MB	6.46ms	207.87ms
32	32	4385.25	3.17MB	7.46ms	213.67ms
64	64	6152.13	4.45MB	11.55ms	418.09ms
128	128	8018.13	5.80MB	16.46ms	243.61ms

** /queriesInterpolate=20

*** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat	
1	1	163.39	121.04KB	6.12ms	10.58ms
2	2	320.17	237.17KB	6.91ms	210.41ms
4	4	692.03	512.66KB	6.46ms	211.68ms
8	8	1360.39	0.98MB	5.88ms	10.48ms
16	16	2439.22	1.76MB	6.55ms	15.38ms
32	32	3900.40	2.82MB	8.32ms	212.31ms
64	64	5667.67	4.10MB	11.24ms	29.21ms
128	128	7560.76	5.47MB	17.72ms	254.39ms

*** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	86.67	64.20KB	13.12ms	237.55ms
2	2	167.88	124.35KB	12.55ms	214.86ms
4	4	337.88	250.27KB	12.17ms	221.36ms
8	8	667.50	494.41KB	13.47ms	222.75ms
16	16	1270.96	0.92MB	12.98ms	222.07ms
32	32	1935.76	1.40MB	17.67ms	241.18ms
64	64	2918.13	2.11MB	22.64ms	432.00ms
128	128	4013.23	2.90MB	32.57ms	271.07ms


** /update=20

*** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	80.68	59.77KB	14.09ms	246.39ms
2	2	149.97	111.10KB	16.44ms	239.17ms
4	4	317.98	235.54KB	15.12ms	225.48ms
8	8	599.69	444.25KB	16.93ms	263.67ms
16	16	1079.98	800.08KB	18.43ms	310.34ms
32	32	1653.95	1.20MB	22.58ms	427.68ms
64	64	1929.25	1.40MB	37.08ms	440.98ms
128	128	1789.33	1.29MB	95.23ms	793.65m

*** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	38.95	28.86KB	25.66ms	37.66ms
2	2	76.96	57.02KB	26.14ms	116.16ms
4	4	133.83	99.14KB	29.85ms	42.48ms
8	8	252.35	186.94KB	31.73ms	107.79ms
16	16	463.12	343.09KB	34.60ms	239.41ms
32	32	873.85	647.32KB	37.02ms	242.35ms
64	64	1520.79	1.10MB	42.21ms	136.89ms
128	128	2533.28	1.83MB	50.88ms	244.11ms

** /updateInterpolate=20

*** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	66.85	49.52KB	16.83ms	62.50ms
2	2	118.89	88.07KB	19.45ms	217.30ms
4	4	332.20	246.10KB	12.27ms	97.92ms
8	8	519.02	384.49KB	21.60ms	262.63ms
16	16	1071.76	793.97KB	22.62ms	328.35ms
32	32	1653.93	1.20MB	21.39ms	288.11ms
64	64	2069.48	1.50MB	32.54ms	348.89ms
128	128	2414.48	1.75MB	55.52ms	458.19ms

*** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	26.64	19.74KB	37.45ms	44.20ms
2	2	55.66	41.24KB	35.88ms	47.51ms
4	4	102.39	75.85KB	39.97ms	256.56ms
8	8	192.78	142.81KB	41.71ms	256.22ms
16	16	352.05	260.82KB	46.04ms	262.77ms
32	32	641.31	475.07KB	50.19ms	254.10ms
64	64	1033.60	765.70KB	61.85ms	344.84ms
128	128	1635.62	1.18MB	78.24ms	290.74ms


* m4.4xlarge 2015-01-14 go1.5 vs go 1.6beta2

** /json

*** 1.5


*** 1.6beta2

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	3276.60	473.57KB	1.62ms	200.74ms
2	2	6292.77	0.89MB	316.06us	1.70ms
4	4	14386.54	2.03MB	277.29us	1.73ms
8	8	27215.41	3.84MB	1.76ms	202.72ms
16	16	50314.87	7.10MB	654.24us	204.10ms
32	32	82555.01	11.65MB	401.43us	2.38ms
64	64	125231.21	17.68MB	774.42us	202.68ms
128	128	147590.27	20.83MB	1.43ms	204.76ms


* m4.4xlarge 2015-01-15 go1.5 vs go 1.6beta2

** /json

*** 1.5.3

**** default GOGC

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2967.77	428.94KB	334.33us	0.93ms
2	2	5826.11	842.05KB	340.54us	0.95ms
4	4	12953.56	1.83MB	307.35us	0.92ms
8	8	25727.55	3.63MB	309.68us	0.98ms
16	16	48866.14	6.90MB	326.52us	1.44ms
32	32	82642.18	11.66MB	386.89us	1.71ms
64	64	130412.68	18.41MB	492.06us	3.28ms
128	128	165180.64	23.31MB	784.89us	10.96m

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2998.30	433.35KB	331.02us	1.04ms
2	2	5748.16	830.79KB	344.27us	1.62ms
4	4	12998.44	1.83MB	306.26us	1.34ms
8	8	25927.61	3.66MB	307.31us	1.57ms
16	16	49504.60	6.99MB	322.32us	1.74ms
32	32	84225.56	11.89MB	380.29us	2.30ms
64	64	135508.88	19.13MB	476.82us	4.74ms
128	128	172231.23	24.31MB	756.22us	15.36ms


*** 1.6beta2

**** default GOGC

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	3128.20	452.12KB	317.69us	2.08ms
2	2	5638.01	814.87KB	352.22us	1.32ms
4	4	13343.41	1.88MB	299.49us	5.30ms
8	8	26442.97	3.73MB	303.32us	1.63ms
16	16	48431.14	6.84MB	333.89us	1.84ms
32	32	79678.28	11.25MB	414.58us	4.49ms
64	64	122704.08	17.32MB	549.74us	4.34ms
128	128	144309.35	20.37MB	0.92ms	7.18ms

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2978.00	430.41KB	334.84us	7.62ms
2	2	5773.95	834.52KB	343.66us	1.47ms
4	4	13299.04	1.88MB	299.38us	1.48ms
8	8	26887.44	3.79MB	296.50us	1.56ms
16	16	50239.67	7.09MB	318.14us	1.83ms
32	32	84368.78	11.91MB	379.72us	2.05ms
64	64	131927.73	18.62MB	549.94us	6.60ms
128	128	166470.25	23.50MB	841.69us	16.91ms



** /db

*** 1.5.3

http://172.16.0.119:8080/db
Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1954.43	289.69KB	508.84us	1.04ms
2	2	3457.58	512.47KB	575.10us	1.50ms
4	4	7899.46	1.14MB	504.07us	1.44ms
8	8	17109.57	2.48MB	466.15us	1.59ms
16	16	31576.61	4.57MB	505.59us	1.87ms
32	32	50643.61	7.33MB	631.21us	3.17ms
64	64	71658.15	10.37MB	0.93ms	7.79ms
128	128	87623.60	12.68MB	1.68ms	16.91ms

*** 1.6beta2

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1881.50	278.88KB	529.13us	2.14ms
2	2	3558.18	527.38KB	559.15us	1.73ms
4	4	8858.39	1.28MB	450.65us	1.66ms
8	8	17389.70	2.52MB	459.71us	1.76ms
16	16	31206.94	4.52MB	514.39us	4.63ms
32	32	49485.80	7.16MB	654.69us	3.46ms
64	64	71011.23	10.28MB	0.94ms	7.63ms
128	128	94313.17	13.65MB	1.54ms	22.98ms


** /update?queries=20 (postgres)

*** 1.5.3
Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	45.36	33.60KB	22.03ms	36.15ms
2	2	75.09	55.63KB	26.70ms	97.22ms
4	4	149.54	110.77KB	26.72ms	42.79ms
8	8	292.73	216.87KB	27.40ms	99.06ms
16	16	560.31	415.08KB	28.73ms	111.33ms
32	32	1057.03	783.08KB	30.41ms	114.98ms
64	64	1713.24	1.24MB	37.58ms	138.15ms
128	128	2473.06	1.79MB	52.07ms	224.88ms


*** 1.6beta2

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	45.63	33.80KB	21.90ms	31.81ms
2	2	75.80	56.16KB	26.41ms	82.65ms
4	4	152.00	112.60KB	26.29ms	43.76ms
8	8	300.89	222.92KB	26.56ms	50.30ms
16	16	567.39	420.33KB	28.36ms	98.88ms
32	32	1054.09	780.90KB	30.45ms	113.13ms
64	64	1587.00	1.15MB	40.51ms	160.29ms
128	128	2467.68	1.79MB	52.12ms	179.58ms

** /fortune (postgres)

*** 1.5.3
Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1551.36	2.13MB	641.54us	1.78ms
2	2	2990.94	4.10MB	666.27us	4.39ms
4	4	6226.54	8.53MB	640.78us	4.15ms
8	8	11617.74	15.92MB	685.83us	5.19ms
16	16	19156.44	26.25MB	832.46us	4.68ms
32	32	28395.05	38.91MB	1.13ms	7.43ms
64	64	41984.84	57.54MB	1.57ms	8.60ms
128	128	31942.72	43.78MB	4.12ms	26.36ms


*** 1.6beta2
Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1494.70	2.05MB	669.10us	3.66ms
2	2	3245.16	4.45MB	618.69us	2.43ms
4	4	5836.06	8.00MB	686.07us	2.46ms
8	8	10696.61	14.66MB	753.14us	9.61ms
16	16	16579.80	22.72MB	0.98ms	6.15ms
32	32	21346.33	29.25MB	1.53ms	7.18ms
64	64	24160.14	33.11MB	2.69ms	20.48ms
128	128	30297.23	41.52MB	4.31ms	22.36ms

** /fortune (mysql)

*** 1.5.3

**** GOGC=100

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1558.38	2.14MB	638.66us	1.47ms
2	2	2954.87	4.05MB	672.03us	1.82ms
4	4	6156.21	8.44MB	647.72us	1.79ms
8	8	11593.18	15.89MB	687.09us	2.68ms
16	16	19179.78	26.28MB	830.59us	3.22ms
32	32	28449.45	38.99MB	1.13ms	6.54ms
64	64	40978.68	56.16MB	1.63ms	9.53ms
128	128	30976.62	42.45MB	4.27ms	28.78ms

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1501.48	2.06MB	662.87us	1.48ms
2	2	3002.35	4.11MB	663.19us	1.52ms
4	4	6425.52	8.81MB	621.16us	2.72ms
8	8	12003.41	16.45MB	665.19us	2.37ms
16	16	20283.50	27.80MB	789.24us	2.96ms
32	32	33861.22	46.40MB	0.95ms	4.63ms
64	64	54594.07	74.82MB	1.20ms	10.05ms
128	128	59207.90	81.14MB	2.31ms	21.70ms

**** wrk2 (30000), default GOGC

./wrk2 -t 64 -c 64 -R30000 -d 30 --latency http://$APPHOST:8080/fortune


  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     2.27ms    0.97ms   8.77ms   72.13%
    Req/Sec   493.16     78.00     0.89k    69.96%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.03ms
 75.000%    2.76ms
 90.000%    3.66ms
 99.000%    5.27ms
 99.900%    6.44ms
 99.990%    7.46ms
 99.999%    8.30ms
100.000%    8.77ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.658     0.000000            1         1.00
       1.247     0.100000        59975         1.11
       1.482     0.200000       119843         1.25
       1.676     0.300000       179831         1.43
       1.848     0.400000       239511         1.67
       2.028     0.500000       299358         2.00
       2.139     0.550000       329645         2.22
       2.263     0.600000       359103         2.50
       2.405     0.650000       389312         2.86
       2.567     0.700000       419006         3.33
       2.761     0.750000       448997         4.00
       2.871     0.775000       463907         4.44
       2.993     0.800000       478900         5.00
       3.129     0.825000       493823         5.71
       3.283     0.850000       508808         6.67
       3.457     0.875000       523640         8.00
       3.553     0.887500       531180         8.89
       3.659     0.900000       538633        10.00
       3.775     0.912500       546138        11.43
       3.903     0.925000       553557        13.33
       4.049     0.937500       561039        16.00
       4.131     0.943750       564837        17.78
       4.219     0.950000       568525        20.00
       4.319     0.956250       572363        22.86
       4.427     0.962500       575980        26.67
       4.555     0.968750       579774        32.00
       4.623     0.971875       581619        35.56
       4.703     0.975000       583481        40.00
       4.787     0.978125       585332        45.71
       4.887     0.981250       587241        53.33
       4.999     0.984375       589110        64.00
       5.059     0.985938       590001        71.11
       5.131     0.987500       590973        80.00
       5.215     0.989062       591887        91.43
       5.299     0.990625       592805       106.67
       5.403     0.992188       593759       128.00
       5.463     0.992969       594225       142.22
       5.527     0.993750       594698       160.00
       5.603     0.994531       595154       182.86
       5.683     0.995313       595631       213.33
       5.775     0.996094       596081       256.00
       5.827     0.996484       596318       284.44
       5.895     0.996875       596550       320.00
       5.959     0.997266       596783       365.71
       6.035     0.997656       597014       426.67
       6.135     0.998047       597252       512.00
       6.183     0.998242       597366       568.89
       6.239     0.998437       597484       640.00
       6.311     0.998633       597601       731.43
       6.379     0.998828       597718       853.33
       6.451     0.999023       597831      1024.00
       6.499     0.999121       597892      1137.78
       6.547     0.999219       597949      1280.00
       6.615     0.999316       598006      1462.86
       6.687     0.999414       598068      1706.67
       6.771     0.999512       598124      2048.00
       6.823     0.999561       598154      2275.56
       6.875     0.999609       598185      2560.00
       6.931     0.999658       598211      2925.71
       6.999     0.999707       598241      3413.33
       7.091     0.999756       598269      4096.00
       7.143     0.999780       598284      4551.11
       7.199     0.999805       598299      5120.00
       7.251     0.999829       598313      5851.43
       7.319     0.999854       598328      6826.67
       7.387     0.999878       598343      8192.00
       7.431     0.999890       598350      9102.22
       7.463     0.999902       598357     10240.00
       7.491     0.999915       598364     11702.86
       7.543     0.999927       598372     13653.33
       7.623     0.999939       598379     16384.00
       7.655     0.999945       598384     18204.44
       7.663     0.999951       598386     20480.00
       7.719     0.999957       598390     23405.71
       7.755     0.999963       598394     27306.67
       7.779     0.999969       598398     32768.00
       7.795     0.999973       598399     36408.89
       7.847     0.999976       598401     40960.00
       7.951     0.999979       598403     46811.43
       7.963     0.999982       598405     54613.33
       7.979     0.999985       598406     65536.00
       8.011     0.999986       598407     72817.78
       8.127     0.999988       598408     81920.00
       8.303     0.999989       598409     93622.86
       8.415     0.999991       598410    109226.67
       8.439     0.999992       598411    131072.00
       8.439     0.999993       598411    145635.56
       8.511     0.999994       598412    163840.00
       8.511     0.999995       598412    187245.71
       8.519     0.999995       598413    218453.33
       8.519     0.999996       598413    262144.00
       8.519     0.999997       598413    291271.11
       8.719     0.999997       598414    327680.00
       8.719     0.999997       598414    374491.43
       8.719     0.999998       598414    436906.67
       8.719     0.999998       598414    524288.00
       8.719     0.999998       598414    582542.22
       8.775     0.999998       598415    655360.00
       8.775     1.000000       598415          inf
#[Mean    =        2.273, StdDeviation   =        0.968]
#[Max     =        8.768, Total count    =       598415]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  898122 requests in 29.97s, 1.20GB read
Requests/sec:  29964.29
Transfer/sec:     41.06MB


**** wrk2 (20000), default GOGC

Running 2m test @ http://172.16.0.119:8080/fortune
  64 threads and 64 connections

  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.64ms  542.37us   7.57ms   74.42%
    Req/Sec   329.22     50.83   600.00     74.83%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.56ms
 75.000%    1.87ms
 90.000%    2.31ms
 99.000%    3.48ms
 99.900%    4.63ms
 99.990%    5.75ms
 99.999%    6.56ms
100.000%    7.57ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.576     0.000000            1         1.00
       1.046     0.100000       179898         1.11
       1.191     0.200000       359446         1.25
       1.322     0.300000       540265         1.43
       1.445     0.400000       719889         1.67
       1.564     0.500000       899236         2.00
       1.623     0.550000       989002         2.22
       1.682     0.600000      1079281         2.50
       1.740     0.650000      1168215         2.86
       1.800     0.700000      1257696         3.33
       1.868     0.750000      1348356         4.00
       1.907     0.775000      1392479         4.44
       1.955     0.800000      1438112         5.00
       2.013     0.825000      1482569         5.71
       2.087     0.850000      1527302         6.67
       2.183     0.875000      1572634         8.00
       2.239     0.887500      1594572         8.89
       2.305     0.900000      1617468        10.00
       2.379     0.912500      1639790        11.43
       2.465     0.925000      1662387        13.33
       2.561     0.937500      1684585        16.00
       2.617     0.943750      1695943        17.78
       2.677     0.950000      1707186        20.00
       2.743     0.956250      1718181        22.86
       2.819     0.962500      1729373        26.67
       2.909     0.968750      1740649        32.00
       2.961     0.971875      1746319        35.56
       3.019     0.975000      1751870        40.00
       3.085     0.978125      1757431        45.71
       3.163     0.981250      1763060        53.33
       3.255     0.984375      1768702        64.00
       3.309     0.985938      1771495        71.11
       3.369     0.987500      1774238        80.00
       3.439     0.989062      1777116        91.43
       3.517     0.990625      1779883       106.67
       3.607     0.992188      1782684       128.00
       3.661     0.992969      1784115       142.22
       3.725     0.993750      1785524       160.00
       3.791     0.994531      1786901       182.86
       3.865     0.995313      1788305       213.33
       3.951     0.996094      1789676       256.00
       4.001     0.996484      1790391       284.44
       4.061     0.996875      1791095       320.00
       4.127     0.997266      1791801       365.71
       4.203     0.997656      1792500       426.67
       4.291     0.998047      1793185       512.00
       4.347     0.998242      1793542       568.89
       4.407     0.998437      1793900       640.00
       4.475     0.998633      1794239       731.43
       4.551     0.998828      1794597       853.33
       4.635     0.999023      1794941      1024.00
       4.687     0.999121      1795124      1137.78
       4.743     0.999219      1795290      1280.00
       4.815     0.999316      1795480      1462.86
       4.891     0.999414      1795644      1706.67
       4.975     0.999512      1795816      2048.00
       5.031     0.999561      1795904      2275.56
       5.091     0.999609      1795992      2560.00
       5.159     0.999658      1796083      2925.71
       5.231     0.999707      1796171      3413.33
       5.319     0.999756      1796257      4096.00
       5.375     0.999780      1796303      4551.11
       5.415     0.999805      1796344      5120.00
       5.487     0.999829      1796386      5851.43
       5.559     0.999854      1796433      6826.67
       5.651     0.999878      1796474      8192.00
       5.699     0.999890      1796496      9102.22
       5.759     0.999902      1796518     10240.00
       5.827     0.999915      1796540     11702.86
       5.903     0.999927      1796563     13653.33
       5.987     0.999939      1796585     16384.00
       6.035     0.999945      1796596     18204.44
       6.087     0.999951      1796607     20480.00
       6.131     0.999957      1796617     23405.71
       6.171     0.999963      1796628     27306.67
       6.267     0.999969      1796639     32768.00
       6.295     0.999973      1796645     36408.89
       6.327     0.999976      1796650     40960.00
       6.371     0.999979      1796655     46811.43
       6.443     0.999982      1796661     54613.33
       6.475     0.999985      1796666     65536.00
       6.499     0.999986      1796669     72817.78
       6.531     0.999988      1796672     81920.00
       6.551     0.999989      1796674     93622.86
       6.619     0.999991      1796677    109226.67
       6.727     0.999992      1796680    131072.00
       6.747     0.999993      1796681    145635.56
       6.811     0.999994      1796683    163840.00
       6.863     0.999995      1796684    187245.71
       6.911     0.999995      1796685    218453.33
       6.951     0.999996      1796687    262144.00
       6.951     0.999997      1796687    291271.11
       6.959     0.999997      1796688    327680.00
       6.987     0.999997      1796689    374491.43
       6.987     0.999998      1796689    436906.67
       7.035     0.999998      1796690    524288.00
       7.035     0.999998      1796690    582542.22
       7.099     0.999998      1796691    655360.00
       7.099     0.999999      1796691    748982.86
       7.099     0.999999      1796691    873813.33
       7.335     0.999999      1796692   1048576.00
       7.335     0.999999      1796692   1165084.44
       7.335     0.999999      1796692   1310720.00
       7.335     0.999999      1796692   1497965.71
       7.335     0.999999      1796692   1747626.67
       7.575     1.000000      1796693   2097152.00
       7.575     1.000000      1796693          inf
#[Mean    =        1.637, StdDeviation   =        0.542]
#[Max     =        7.572, Total count    =      1796693]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1996553 requests in 1.67m, 2.67GB read
Requests/sec:  19970.42
Transfer/sec:     27.37MB



**** wrk2 (40000), GOGC=800

./wrk2 -t 64 -c 64 -R40000 -d 30 --latency http://$APPHOST:8080/fortune

Running 30s test @ http://172.16.0.119:8080/fortune
  64 threads and 64 connections

  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.89ms    0.95ms  12.44ms   85.33%
    Req/Sec   655.94    110.94     1.22k    71.19%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.65ms
 75.000%    1.99ms
 90.000%    3.22ms
 99.000%    5.39ms
 99.900%    6.42ms
 99.990%    7.39ms
 99.999%    9.40ms
100.000%   12.45ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.657     0.000000            1         1.00
       1.091     0.100000        80090         1.11
       1.241     0.200000       160231         1.25
       1.379     0.300000       239795         1.43
       1.515     0.400000       320000         1.67
       1.649     0.500000       400146         2.00
       1.715     0.550000       440162         2.22
       1.780     0.600000       479718         2.50
       1.846     0.650000       519771         2.86
       1.914     0.700000       559697         3.33
       1.990     0.750000       599638         4.00
       2.036     0.775000       619713         4.44
       2.093     0.800000       639458         5.00
       2.183     0.825000       659415         5.71
       2.383     0.850000       679318         6.67
       2.779     0.875000       699332         8.00
       2.999     0.887500       709328         8.89
       3.225     0.900000       719317        10.00
       3.451     0.912500       729250        11.43
       3.687     0.925000       739245        13.33
       3.933     0.937500       749254        16.00
       4.061     0.943750       754231        17.78
       4.195     0.950000       759329        20.00
       4.335     0.956250       764346        22.86
       4.475     0.962500       769220        26.67
       4.639     0.968750       774235        32.00
       4.727     0.971875       776762        35.56
       4.815     0.975000       779267        40.00
       4.911     0.978125       781774        45.71
       5.015     0.981250       784257        53.33
       5.131     0.984375       786701        64.00
       5.195     0.985938       787986        71.11
       5.263     0.987500       789199        80.00
       5.339     0.989062       790442        91.43
       5.427     0.990625       791726       106.67
       5.523     0.992188       792985       128.00
       5.575     0.992969       793592       142.22
       5.631     0.993750       794183       160.00
       5.695     0.994531       794833       182.86
       5.775     0.995313       795458       213.33
       5.859     0.996094       796085       256.00
       5.903     0.996484       796375       284.44
       5.955     0.996875       796695       320.00
       6.007     0.997266       796993       365.71
       6.071     0.997656       797306       426.67
       6.155     0.998047       797626       512.00
       6.199     0.998242       797778       568.89
       6.247     0.998437       797937       640.00
       6.303     0.998633       798101       731.43
       6.359     0.998828       798244       853.33
       6.431     0.999023       798401      1024.00
       6.479     0.999121       798485      1137.78
       6.519     0.999219       798558      1280.00
       6.575     0.999316       798637      1462.86
       6.619     0.999414       798716      1706.67
       6.691     0.999512       798792      2048.00
       6.719     0.999561       798827      2275.56
       6.767     0.999609       798865      2560.00
       6.839     0.999658       798905      2925.71
       6.903     0.999707       798945      3413.33
       6.999     0.999756       798982      4096.00
       7.051     0.999780       799003      4551.11
       7.099     0.999805       799021      5120.00
       7.175     0.999829       799042      5851.43
       7.251     0.999854       799061      6826.67
       7.311     0.999878       799080      8192.00
       7.343     0.999890       799090      9102.22
       7.415     0.999902       799099     10240.00
       7.475     0.999915       799109     11702.86
       7.595     0.999927       799119     13653.33
       7.791     0.999939       799129     16384.00
       7.819     0.999945       799134     18204.44
       7.843     0.999951       799138     20480.00
       7.967     0.999957       799143     23405.71
       8.079     0.999963       799148     27306.67
       8.179     0.999969       799153     32768.00
       8.519     0.999973       799156     36408.89
       8.543     0.999976       799158     40960.00
       8.727     0.999979       799160     46811.43
       8.855     0.999982       799163     54613.33
       9.031     0.999985       799165     65536.00
       9.271     0.999986       799167     72817.78
       9.383     0.999988       799168     81920.00
       9.399     0.999989       799169     93622.86
       9.575     0.999991       799170    109226.67
       9.935     0.999992       799171    131072.00
      10.095     0.999993       799172    145635.56
      10.383     0.999994       799173    163840.00
      10.383     0.999995       799173    187245.71
      10.431     0.999995       799174    218453.33
      10.431     0.999996       799174    262144.00
      11.127     0.999997       799175    291271.11
      11.127     0.999997       799175    327680.00
      11.127     0.999997       799175    374491.43
      11.839     0.999998       799176    436906.67
      11.839     0.999998       799176    524288.00
      11.839     0.999998       799176    582542.22
      11.839     0.999998       799176    655360.00
      11.839     0.999999       799176    748982.86
      12.447     0.999999       799177    873813.33
      12.447     1.000000       799177          inf
#[Mean    =        1.886, StdDeviation   =        0.948]
#[Max     =       12.440, Total count    =       799177]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1199396 requests in 29.97s, 1.61GB read
Requests/sec:  40015.40
Transfer/sec:     54.84MB


*** 1.6beta2

**** GOGC=100

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1480.83	2.03MB	675.03us	2.51ms
2	2	3097.11	4.24MB	646.07us	2.53ms
4	4	5979.13	8.19MB	671.07us	5.10ms
8	8	11138.12	15.26MB	719.74us	2.34ms
16	16	18442.71	25.27MB	0.87ms	4.16ms
32	32	27323.20	37.44MB	1.19ms	6.95ms
64	64	30126.03	41.29MB	2.14ms	12.30ms
128	128	29365.12	40.24MB	4.46ms	26.51ms

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1461.89	2.00MB	681.00us	1.70ms
2	2	3136.76	4.30MB	635.14us	1.90ms
4	4	6111.09	8.37MB	651.67us	3.64ms
8	8	11759.87	16.12MB	679.06us	2.11ms
16	16	20465.24	28.05MB	780.09us	2.68ms
32	32	32835.04	45.00MB	1.07ms	6.63ms
64	64	52870.48	72.46MB	1.34ms	9.72ms
128	128	61154.95	83.81MB	2.92ms	1.40s

**** wrk2 (30000), default GOGC

./wrk2 -t 64 -c 64 -R30000 -d 30 --latency http://$APPHOST:8080/fortune


  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     4.56ms    3.34ms  36.80ms   86.57%
    Req/Sec   482.26     63.24   769.00     71.70%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    3.55ms
 75.000%    5.38ms
 90.000%    8.49ms
 99.000%   18.01ms
 99.900%   27.06ms
 99.990%   32.72ms
 99.999%   35.84ms
100.000%   36.83ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.638     0.000000            1         1.00
       1.857     0.100000        59835         1.11
       2.301     0.200000       119843         1.25
       2.707     0.300000       179671         1.43
       3.111     0.400000       239593         1.67
       3.549     0.500000       299293         2.00
       3.801     0.550000       329192         2.22
       4.091     0.600000       359113         2.50
       4.435     0.650000       388935         2.86
       4.855     0.700000       419035         3.33
       5.383     0.750000       448786         4.00
       5.707     0.775000       463729         4.44
       6.079     0.800000       478656         5.00
       6.523     0.825000       493641         5.71
       7.043     0.850000       508559         6.67
       7.683     0.875000       523558         8.00
       8.055     0.887500       531022         8.89
       8.495     0.900000       538578        10.00
       8.983     0.912500       546032        11.43
       9.559     0.925000       553460        13.33
      10.263     0.937500       560950        16.00
      10.679     0.943750       564652        17.78
      11.151     0.950000       568400        20.00
      11.687     0.956250       572145        22.86
      12.335     0.962500       575893        26.67
      13.095     0.968750       579624        32.00
      13.535     0.971875       581500        35.56
      14.039     0.975000       583346        40.00
      14.599     0.978125       585217        45.71
      15.247     0.981250       587075        53.33
      16.047     0.984375       588949        64.00
      16.495     0.985938       589878        71.11
      17.039     0.987500       590832        80.00
      17.631     0.989062       591760        91.43
      18.303     0.990625       592703       106.67
      19.071     0.992188       593619       128.00
      19.503     0.992969       594094       142.22
      19.967     0.993750       594556       160.00
      20.511     0.994531       595033       182.86
      21.135     0.995313       595494       213.33
      21.839     0.996094       595963       256.00
      22.239     0.996484       596199       284.44
      22.591     0.996875       596430       320.00
      23.087     0.997266       596661       365.71
      23.679     0.997656       596893       426.67
      24.511     0.998047       597123       512.00
      24.895     0.998242       597241       568.89
      25.407     0.998437       597357       640.00
      25.951     0.998633       597474       731.43
      26.559     0.998828       597593       853.33
      27.135     0.999023       597708      1024.00
      27.519     0.999121       597766      1137.78
      27.951     0.999219       597825      1280.00
      28.351     0.999316       597889      1462.86
      28.831     0.999414       597941      1706.67
      29.295     0.999512       597999      2048.00
      29.599     0.999561       598030      2275.56
      29.871     0.999609       598058      2560.00
      30.303     0.999658       598087      2925.71
      30.543     0.999707       598117      3413.33
      30.879     0.999756       598146      4096.00
      31.087     0.999780       598160      4551.11
      31.359     0.999805       598176      5120.00
      31.583     0.999829       598190      5851.43
      31.983     0.999854       598205      6826.67
      32.319     0.999878       598218      8192.00
      32.623     0.999890       598226      9102.22
      32.767     0.999902       598233     10240.00
      32.959     0.999915       598240     11702.86
      33.375     0.999927       598249     13653.33
      33.599     0.999939       598256     16384.00
      34.015     0.999945       598259     18204.44
      34.079     0.999951       598262     20480.00
      34.207     0.999957       598266     23405.71
      34.559     0.999963       598271     27306.67
      34.751     0.999969       598273     32768.00
      34.879     0.999973       598275     36408.89
      35.103     0.999976       598277     40960.00
      35.199     0.999979       598279     46811.43
      35.263     0.999982       598281     54613.33
      35.615     0.999985       598282     65536.00
      35.647     0.999986       598283     72817.78
      35.679     0.999988       598284     81920.00
      35.839     0.999989       598285     93622.86
      36.063     0.999991       598287    109226.67
      36.063     0.999992       598287    131072.00
      36.063     0.999993       598287    145635.56
      36.191     0.999994       598288    163840.00
      36.191     0.999995       598288    187245.71
      36.223     0.999995       598289    218453.33
      36.223     0.999996       598289    262144.00
      36.223     0.999997       598289    291271.11
      36.735     0.999997       598290    327680.00
      36.735     0.999997       598290    374491.43
      36.735     0.999998       598290    436906.67
      36.735     0.999998       598290    524288.00
      36.735     0.999998       598290    582542.22
      36.831     0.999998       598291    655360.00
      36.831     1.000000       598291          inf
#[Mean    =        4.558, StdDeviation   =        3.338]
#[Max     =       36.800, Total count    =       598291]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  897976 requests in 29.97s, 1.20GB read
Requests/sec:  29959.79
Transfer/sec:     41.06MB

**** wrk2 (20000), default GOGC

Running 2m test @ http://172.16.0.119:8080/fortune
  64 threads and 64 connections

  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.84ms  651.97us  11.69ms   70.61%
    Req/Sec   328.46     59.83   666.00     66.64%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.72ms
 75.000%    2.15ms
 90.000%    2.79ms
 99.000%    3.69ms
 99.900%    4.59ms
 99.990%    8.76ms
 99.999%   11.07ms
100.000%   11.69ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.597     0.000000            1         1.00
       1.115     0.100000       179965         1.11
       1.296     0.200000       359554         1.25
       1.451     0.300000       540242         1.43
       1.589     0.400000       718862         1.67
       1.718     0.500000       899044         2.00
       1.781     0.550000       989418         2.22
       1.846     0.600000      1079153         2.50
       1.920     0.650000      1167969         2.86
       2.016     0.700000      1257762         3.33
       2.147     0.750000      1347978         4.00
       2.227     0.775000      1392817         4.44
       2.317     0.800000      1437860         5.00
       2.417     0.825000      1482304         5.71
       2.529     0.850000      1527455         6.67
       2.651     0.875000      1572326         8.00
       2.717     0.887500      1594921         8.89
       2.785     0.900000      1617173        10.00
       2.859     0.912500      1639990        11.43
       2.937     0.925000      1662441        13.33
       3.021     0.937500      1684620        16.00
       3.067     0.943750      1695759        17.78
       3.117     0.950000      1706854        20.00
       3.173     0.956250      1718310        22.86
       3.235     0.962500      1729555        26.67
       3.303     0.968750      1740775        32.00
       3.341     0.971875      1746303        35.56
       3.383     0.975000      1751928        40.00
       3.431     0.978125      1757598        45.71
       3.483     0.981250      1763121        53.33
       3.543     0.984375      1768615        64.00
       3.579     0.985938      1771456        71.11
       3.619     0.987500      1774320        80.00
       3.661     0.989062      1777036        91.43
       3.713     0.990625      1779906       106.67
       3.773     0.992188      1782676       128.00
       3.809     0.992969      1784112       142.22
       3.847     0.993750      1785489       160.00
       3.889     0.994531      1786863       182.86
       3.945     0.995313      1788310       213.33
       4.005     0.996094      1789709       256.00
       4.041     0.996484      1790403       284.44
       4.085     0.996875      1791092       320.00
       4.131     0.997266      1791811       365.71
       4.187     0.997656      1792499       426.67
       4.259     0.998047      1793214       512.00
       4.299     0.998242      1793533       568.89
       4.347     0.998437      1793884       640.00
       4.415     0.998633      1794249       731.43
       4.495     0.998828      1794586       853.33
       4.607     0.999023      1794936      1024.00
       4.679     0.999121      1795118      1137.78
       4.771     0.999219      1795284      1280.00
       4.903     0.999316      1795459      1462.86
       5.099     0.999414      1795638      1706.67
       5.387     0.999512      1795810      2048.00
       5.623     0.999561      1795898      2275.56
       5.871     0.999609      1795986      2560.00
       6.123     0.999658      1796075      2925.71
       6.407     0.999707      1796162      3413.33
       6.671     0.999756      1796249      4096.00
       6.927     0.999780      1796293      4551.11
       7.227     0.999805      1796337      5120.00
       7.643     0.999829      1796381      5851.43
       8.111     0.999854      1796424      6826.67
       8.479     0.999878      1796468      8192.00
       8.623     0.999890      1796491      9102.22
       8.799     0.999902      1796512     10240.00
       8.967     0.999915      1796537     11702.86
       9.223     0.999927      1796557     13653.33
       9.535     0.999939      1796578     16384.00
       9.703     0.999945      1796589     18204.44
       9.855     0.999951      1796600     20480.00
      10.111     0.999957      1796612     23405.71
      10.247     0.999963      1796622     27306.67
      10.447     0.999969      1796633     32768.00
      10.511     0.999973      1796638     36408.89
      10.567     0.999976      1796645     40960.00
      10.623     0.999979      1796650     46811.43
      10.791     0.999982      1796655     54613.33
      10.887     0.999985      1796661     65536.00
      10.943     0.999986      1796663     72817.78
      10.999     0.999988      1796666     81920.00
      11.031     0.999989      1796668     93622.86
      11.079     0.999991      1796671    109226.67
      11.127     0.999992      1796674    131072.00
      11.135     0.999993      1796677    145635.56
      11.135     0.999994      1796677    163840.00
      11.143     0.999995      1796678    187245.71
      11.223     0.999995      1796679    218453.33
      11.239     0.999996      1796681    262144.00
      11.239     0.999997      1796681    291271.11
      11.279     0.999997      1796682    327680.00
      11.375     0.999997      1796683    374491.43
      11.375     0.999998      1796683    436906.67
      11.383     0.999998      1796684    524288.00
      11.383     0.999998      1796684    582542.22
      11.655     0.999998      1796686    655360.00
      11.655     0.999999      1796686    748982.86
      11.655     0.999999      1796686    873813.33
      11.655     0.999999      1796686   1048576.00
      11.655     0.999999      1796686   1165084.44
      11.655     0.999999      1796686   1310720.00
      11.655     0.999999      1796686   1497965.71
      11.655     0.999999      1796686   1747626.67
      11.695     1.000000      1796687   2097152.00
      11.695     1.000000      1796687          inf
#[Mean    =        1.837, StdDeviation   =        0.652]
#[Max     =       11.688, Total count    =      1796687]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1996539 requests in 1.67m, 2.67GB read
Requests/sec:  19970.55
Transfer/sec:     27.37MB
ubuntu@ip-172-16-0-217:~$ 
**** wrk2 (40000), GOGC=800

Running 30s test @ http://172.16.0.119:8080/fortune
  64 threads and 64 connections

  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     2.06ms    1.20ms  11.44ms   84.63%
    Req/Sec   656.85    133.89     1.22k    73.48%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.68ms
 75.000%    2.07ms
 90.000%    4.10ms
 99.000%    5.98ms
 99.900%    6.68ms
 99.990%    7.49ms
 99.999%    8.81ms
100.000%   11.45ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.661     0.000000            1         1.00
       1.096     0.100000        79993         1.11
       1.252     0.200000       160043         1.25
       1.398     0.300000       240336         1.43
       1.539     0.400000       319904         1.67
       1.679     0.500000       399636         2.00
       1.749     0.550000       439553         2.22
       1.819     0.600000       479639         2.50
       1.891     0.650000       519956         2.86
       1.969     0.700000       559780         3.33
       2.071     0.750000       599781         4.00
       2.151     0.775000       619400         4.44
       2.325     0.800000       639454         5.00
       2.719     0.825000       659366         5.71
       3.183     0.850000       679367         6.67
       3.639     0.875000       699334         8.00
       3.869     0.887500       709316         8.89
       4.099     0.900000       719427        10.00
       4.331     0.912500       729357        11.43
       4.563     0.925000       739348        13.33
       4.795     0.937500       749327        16.00
       4.911     0.943750       754317        17.78
       5.031     0.950000       759283        20.00
       5.151     0.956250       764291        22.86
       5.275     0.962500       769364        26.67
       5.403     0.968750       774345        32.00
       5.471     0.971875       776754        35.56
       5.539     0.975000       779217        40.00
       5.615     0.978125       781712        45.71
       5.695     0.981250       784199        53.33
       5.787     0.984375       786774        64.00
       5.835     0.985938       788023        71.11
       5.887     0.987500       789272        80.00
       5.943     0.989062       790482        91.43
       6.003     0.990625       791719       106.67
       6.071     0.992188       792949       128.00
       6.111     0.992969       793609       142.22
       6.155     0.993750       794245       160.00
       6.199     0.994531       794843       182.86
       6.247     0.995313       795450       213.33
       6.303     0.996094       796099       256.00
       6.331     0.996484       796395       284.44
       6.363     0.996875       796705       320.00
       6.403     0.997266       797018       365.71
       6.447     0.997656       797323       426.67
       6.495     0.998047       797634       512.00
       6.527     0.998242       797784       568.89
       6.563     0.998437       797945       640.00
       6.595     0.998633       798097       731.43
       6.639     0.998828       798249       853.33
       6.691     0.999023       798408      1024.00
       6.723     0.999121       798485      1137.78
       6.759     0.999219       798566      1280.00
       6.803     0.999316       798638      1462.86
       6.851     0.999414       798718      1706.67
       6.903     0.999512       798799      2048.00
       6.927     0.999561       798831      2275.56
       6.959     0.999609       798873      2560.00
       6.995     0.999658       798915      2925.71
       7.039     0.999707       798950      3413.33
       7.103     0.999756       798987      4096.00
       7.147     0.999780       799009      4551.11
       7.187     0.999805       799026      5120.00
       7.243     0.999829       799047      5851.43
       7.327     0.999854       799065      6826.67
       7.423     0.999878       799085      8192.00
       7.471     0.999890       799095      9102.22
       7.511     0.999902       799105     10240.00
       7.611     0.999915       799114     11702.86
       7.667     0.999927       799124     13653.33
       7.831     0.999939       799134     16384.00
       7.887     0.999945       799139     18204.44
       7.951     0.999951       799143     20480.00
       7.995     0.999957       799148     23405.71
       8.067     0.999963       799153     27306.67
       8.151     0.999969       799158     32768.00
       8.187     0.999973       799161     36408.89
       8.231     0.999976       799164     40960.00
       8.295     0.999979       799165     46811.43
       8.479     0.999982       799168     54613.33
       8.551     0.999985       799171     65536.00
       8.559     0.999986       799172     72817.78
       8.583     0.999988       799173     81920.00
       8.807     0.999989       799174     93622.86
       8.831     0.999991       799175    109226.67
       9.271     0.999992       799176    131072.00
       9.327     0.999993       799177    145635.56
       9.807     0.999994       799178    163840.00
       9.807     0.999995       799178    187245.71
       9.991     0.999995       799179    218453.33
       9.991     0.999996       799179    262144.00
      10.327     0.999997       799180    291271.11
      10.327     0.999997       799180    327680.00
      10.327     0.999997       799180    374491.43
      10.943     0.999998       799181    436906.67
      10.943     0.999998       799181    524288.00
      10.943     0.999998       799181    582542.22
      10.943     0.999998       799181    655360.00
      10.943     0.999999       799181    748982.86
      11.447     0.999999       799182    873813.33
      11.447     1.000000       799182          inf
#[Mean    =        2.057, StdDeviation   =        1.197]
#[Max     =       11.440, Total count    =       799182]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1199394 requests in 29.97s, 1.61GB read
Requests/sec:  40019.65
Transfer/sec:     54.84MB

* m4.10xlarge, 2015-01-16, Go 1.5.3 vs 1.6beta2, GOGC

** /json

*** Go 1.5.3

**** default GOGC

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	6706.85	0.95MB	147.62us	1.38ms
2	2	12799.93	1.81MB	155.11us	2.01ms
4	4	25505.42	3.60MB	156.94us	1.75ms
8	8	47241.44	6.67MB	172.29us	2.32ms
16	16	73833.12	10.42MB	226.56us	9.28ms
32	32	100556.47	14.19MB	337.36us	6.99ms
64	64	127289.41	17.97MB	554.01us	12.43ms
128	128	151216.36	21.34MB	1.01ms	10.72ms
256	256	162409.35	22.92MB	1.80ms	15.27ms

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	6879.89	0.97MB	142.92us	2.17ms
2	2	13147.33	1.86MB	149.48us	2.07ms
4	4	26332.48	3.72MB	150.33us	2.80ms
8	8	48691.33	6.87MB	163.41us	2.47ms
16	16	78065.04	11.02MB	205.97us	2.59ms
32	32	111794.08	15.78MB	290.79us	3.19ms
64	64	143414.53	20.24MB	470.66us	11.85ms
128	128	183833.24	25.95MB	759.56us	17.72ms
256	256	206218.38	29.11MB	1.38ms	21.31ms

**** GOGC=1600

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	6840.11	0.97MB	143.56us	1.23ms
2	2	13163.54	1.86MB	149.12us	2.72ms
4	4	26595.60	3.75MB	148.12us	2.39ms
8	8	49268.29	6.95MB	160.47us	2.73ms
16	16	78320.30	11.05MB	203.22us	2.40ms
32	32	112636.07	15.90MB	285.33us	4.05ms
64	64	145289.75	20.51MB	458.18us	16.82ms
128	128	195089.95	27.54MB	696.85us	15.35ms
256	256	210124.95	29.66MB	1.29ms	22.30ms


*** Go 1.6beta2

**** default GOGC

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	6967.21	0.98MB	148.16us	2.97ms
2	2	14149.27	2.00MB	145.71us	3.09ms
4	4	27643.09	3.90MB	150.42us	2.13ms
8	8	46915.96	6.62MB	184.55us	2.42ms
16	16	70994.34	10.02MB	249.40us	4.45ms
32	32	87187.72	12.31MB	426.72us	4.59ms
64	64	78667.28	11.10MB	0.86ms	7.39ms
128	128	91722.19	12.95MB	1.46ms	13.57ms
256	256	117905.71	16.64MB	2.26ms	18.35ms

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	7024.63	0.99MB	140.23us	2.96ms
2	2	14512.58	2.05MB	135.31us	1.88ms
4	4	28977.20	4.09MB	136.59us	3.14ms
8	8	49750.63	7.02MB	160.22us	2.94ms
16	16	77927.38	11.00MB	211.05us	8.41ms
32	32	108655.54	15.34MB	483.96us	11.39ms
64	64	135906.77	19.18MB	0.87ms	24.33ms
128	128	189902.34	26.80MB	1.14ms	28.45ms
256	256	181120.55	25.56MB	1.80ms	24.83ms

**** GOGC=1600

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	7289.40	1.03MB	134.77us	2.62ms
2	2	14623.17	2.06MB	133.56us	2.61ms
4	4	28985.72	4.09MB	135.79us	2.16ms
8	8	50124.33	7.07MB	157.65us	2.31ms
16	16	78380.48	11.06MB	202.61us	2.42ms
32	32	113116.32	15.97MB	284.23us	9.99ms
64	64	146538.77	20.68MB	449.43us	18.14ms
128	128	204875.98	28.92MB	660.43us	20.04ms
256	256	167826.29	23.69MB	2.19ms	26.65ms

** fortune

*** Go 1.5.3

**** default GOGC

2	2	3241.74	4.44MB	615.73us	2.48ms
4	4	6134.48	8.41MB	652.05us	2.14ms
8	8	11127.30	15.25MB	719.22us	4.48ms
16	16	18087.35	24.79MB	0.89ms	6.70ms
32	32	24898.86	34.12MB	1.32ms	8.37ms
64	64	30284.69	41.50MB	2.34ms	13.54ms
128	128	28049.88	38.44MB	4.85ms	33.11ms
256	256	30724.40	42.11MB	8.85ms	113.26ms

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1402.71	1.92MB	708.49us	2.83ms
2	2	3592.36	4.92MB	554.50us	2.36ms
4	4	6404.58	8.78MB	622.77us	8.04ms
8	8	11727.58	16.07MB	680.60us	7.26ms
16	16	20176.43	27.65MB	795.43us	4.05ms
32	32	33054.18	45.30MB	0.99ms	5.08ms
64	64	53419.83	73.21MB	1.30ms	10.31ms
128	128	74086.29	101.53MB	2.20ms	30.23ms
256	256	62732.37	85.97MB	5.20ms	69.49ms

**** GOGC=1600

***** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1394.70	1.91MB	712.40us	2.83ms
2	2	3602.35	4.94MB	552.82us	3.14ms
4	4	6436.21	8.82MB	619.21us	3.14ms
8	8	11598.56	15.90MB	686.98us	5.09ms
16	16	20535.34	28.14MB	779.37us	4.24ms
32	32	33773.92	46.28MB	0.96ms	5.72ms
64	64	55869.71	76.57MB	1.20ms	9.59ms
128	128	81852.43	112.17MB	1.93ms	33.02ms
256	256	68048.59	93.26MB	4.81ms	69.58ms

***** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1420.81	1.95MB	699.96us	5.67ms
2	2	3612.92	4.95MB	550.87us	7.46ms
4	4	6627.51	9.08MB	602.42us	6.48ms
8	8	11646.52	15.96MB	685.30us	6.57ms
16	16	20528.37	28.13MB	780.15us	8.03ms
32	32	34128.23	46.77MB	0.95ms	10.26ms
64	64	56239.89	77.07MB	1.20ms	12.25ms
128	128	86369.23	118.36MB	1.98ms	36.08ms
256	256	90934.28	124.62MB	4.08ms	90.23ms


*** Go 1.6beta2

**** default GOGC

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1420.25	1.95MB	712.86us	4.26ms
2	2	3585.66	4.91MB	574.73us	3.85ms
4	4	5689.95	7.80MB	718.42us	8.33ms
8	8	10488.15	14.37MB	782.83us	11.23ms
16	16	16380.61	22.45MB	1.01ms	4.46ms
32	32	14198.93	19.46MB	2.25ms	10.89ms
64	64	13476.50	18.47MB	4.84ms	27.96ms
128	128	12926.04	17.71MB	10.49ms	71.47ms
256	256	30095.38	41.24MB	8.82ms	64.18ms

**** GOGC=1600

***** mysql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1425.28	1.95MB	697.89us	4.94ms
2	2	3734.98	5.12MB	533.14us	3.29ms
4	4	6092.87	8.35MB	654.88us	3.66ms
8	8	11619.19	15.92MB	686.37us	4.53ms
16	16	20504.73	28.10MB	778.38us	4.99ms
32	32	33741.63	46.24MB	0.96ms	5.80ms
64	64	56395.40	77.29MB	1.18ms	19.87ms
128	128	70935.00	97.21MB	3.05ms	42.59ms
256	256	57038.92	78.17MB	6.14ms	74.97ms

***** postgresql

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	1511.55	2.07MB	657.90us	5.53ms
2	2	3910.66	5.36MB	509.56us	6.01ms
4	4	6334.23	8.68MB	630.19us	5.97ms
8	8	11835.95	16.22MB	674.05us	7.08ms
16	16	20889.88	28.63MB	765.69us	8.03ms
32	32	34093.91	46.72MB	0.95ms	8.70ms
64	64	56846.86	77.90MB	1.17ms	22.11ms
128	128	77446.51	106.14MB	2.88ms	29.59ms
256	256	83257.74	114.10MB	5.10ms	74.00ms


** update, postgresql, Go 1.6beta2, GOGC=1600

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	34.82	25.79KB	28.67ms	44.26ms
2	2	67.26	49.84KB	29.85ms	113.99ms
4	4	129.79	96.14KB	30.77ms	49.45ms
8	8	233.54	173.01KB	34.31ms	111.72ms
16	16	406.62	301.23KB	39.40ms	128.21ms
32	32	793.71	588.00KB	40.47ms	129.85ms
64	64	1418.74	1.03MB	45.19ms	146.57ms
128	128	1631.78	1.18MB	78.15ms	179.57ms

* m4.10xlarge, 2015-01-30, Go 1.5.3 vs 1.6rc1, GOGC, profiling

** json_profile

GODEBUG=gctrace=1,schedtrace=1000 hello -nodb
GOGC=800 GODEBUG=gctrace=1,schedtrace=1000 hello -nodb

*** Go 1.5.3

**** GOGC=100

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2574.66	372.12KB	385.30us	1.71ms
2	2	5475.29	791.35KB	1.70ms	203.90ms
4	4	10335.02	1.46MB	1.05ms	202.41ms
8	8	21804.02	3.08MB	701.24us	202.95ms
16	16	44796.47	6.32MB	358.30us	6.26ms
32	32	77621.49	10.96MB	503.91us	202.44ms
64	64	105305.56	14.86MB	1.61ms	407.90ms
128	128	143345.69	20.23MB	1.01ms	41.49ms
256	256	158051.03	22.31MB	2.47ms	216.82ms


**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2565.28	370.76KB	386.54us	1.84ms
2	2	5740.05	829.62KB	345.69us	3.08ms
4	4	10558.30	1.49MB	1.05ms	204.19ms
8	8	22001.04	3.11MB	361.38us	4.15ms
16	16	46554.34	6.57MB	343.12us	3.24ms
32	32	81152.82	11.45MB	404.39us	18.45ms
64	64	113118.39	15.97MB	0.97ms	203.01ms
128	128	165751.11	23.39MB	2.08ms	205.03ms
256	256	204383.58	28.85MB	1.58ms	203.11ms

*** Go 1.6rc1


**** GOGC=100

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2628.10	379.84KB	378.35us	2.82ms
2	2	5547.89	801.84KB	1.03ms	202.77ms
4	4	11639.18	1.64MB	346.08us	8.34ms
8	8	22088.30	3.12MB	701.42us	203.12ms
16	16	41988.21	5.93MB	477.94us	201.62ms
32	32	68068.15	9.61MB	555.54us	32.56ms
64	64	72630.66	10.25MB	1.01ms	204.50ms
128	128	87934.21	12.41MB	1.67ms	206.03ms
256	256	111847.47	15.79MB	2.59ms	407.09ms

**** GOGC=800

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2680.99	387.49KB	370.22us	4.05ms
2	2	5495.35	794.25KB	360.86us	3.21ms
4	4	11558.58	1.63MB	343.44us	3.88ms
8	8	22279.32	3.14MB	2.34ms	206.00ms
16	16	43955.25	6.20MB	460.39us	29.54ms
32	32	77455.81	10.93MB	1.06ms	204.39ms
64	64	114245.09	16.12MB	1.76ms	174.00ms
128	128	158012.67	22.30MB	1.94ms	202.07ms
256	256	175360.70	24.75MB	3.03ms	206.78ms



* cc2.8xlarge, 2016-05-03, Go 1.6 vs Go tip

tip: devel +babdbfb Tue May 3 12:35:09 2016 +0000

** json

*** Go 1.6.2

**** GOGC=100

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2214.02	319.99KB	459.67us	14.98ms
2	2	4265.45	616.49KB	488.31us	25.29ms
4	4	8230.14	1.16MB	508.07us	19.21ms
8	8	24675.61	3.48MB	328.26us	8.51ms
16	16	39912.80	5.63MB	412.39us	16.68ms
32	32	52986.19	7.48MB	628.61us	23.49ms
64	64	52494.49	7.41MB	1.53ms	60.23ms
128	128	44729.50	6.31MB	3.78ms	76.45ms
256	256	64061.89	9.04MB	4.29ms	65.30ms

**** GOGC=10000

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2274.46	328.73KB	492.90us	36.61ms
2	2	4163.65	601.78KB	485.72us	9.79ms
4	4	9023.46	1.27MB	483.00us	30.30ms
8	8	26295.40	3.71MB	371.38us	31.23ms
16	16	40888.89	5.77MB	569.45us	31.42ms
32	32	53008.60	7.48MB	0.87ms	30.45ms
64	64	65149.95	9.20MB	1.46ms	204.31ms
128	128	75455.39	10.65MB	1.80ms	46.85ms
256	256	75498.37	10.66MB	3.53ms	51.23ms

*** Go tip

**** GOGC=100

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2266.01	327.51KB	471.37us	19.95ms
2	2	4267.49	616.79KB	473.95us	8.51ms
4	4	8508.21	1.20MB	469.33us	4.32ms
8	8	22295.84	3.15MB	444.11us	30.33ms
16	16	38464.78	5.43MB	527.05us	31.97ms
32	32	51393.14	7.25MB	827.13us	36.05ms
64	64	49272.68	6.95MB	1.34ms	30.34ms
128	128	44064.81	6.22MB	3.12ms	46.74ms
256	256	62146.43	8.77MB	4.52ms	56.73ms

**** GOGC=10000

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	2200.97	318.11KB	462.68us	12.28ms
2	2	4018.78	580.84KB	503.69us	7.39ms
4	4	8759.70	1.24MB	459.75us	8.02ms
8	8	20890.17	2.95MB	386.12us	11.97ms
16	16	40352.15	5.70MB	402.07us	9.34ms
32	32	56181.74	7.93MB	571.11us	7.48ms
64	64	68372.65	9.65MB	1.04ms	33.88ms
128	128	77540.19	10.94MB	1.65ms	31.13ms
256	256	77866.30	10.99MB	3.49ms	206.85ms

** fortune

*** Go 1.6.2

**** GOGC=1000

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	835.88	1.15MB	1.21ms	13.05ms
2	2	1638.68	2.25MB	1.26ms	33.14ms
4	4	4374.20	5.99MB	0.96ms	21.63ms
8	8	8221.64	11.27MB	1.25ms	46.44ms
16	16	12241.38	16.78MB	1.79ms	43.12ms
32	32	15453.33	21.18MB	2.64ms	33.40ms
64	64	20973.14	28.74MB	3.36ms	32.92ms
128	128	23041.21	31.58MB	6.98ms	75.40ms
256	256	25857.29	35.44MB	10.92ms	142.96ms


*** Go tip

**** GOGC=1000

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	890.76	1.22MB	1.13ms	19.26ms
2	2	1934.95	2.65MB	1.06ms	18.85ms
4	4	4525.32	6.20MB	0.88ms	6.09ms
8	8	9037.89	12.39MB	0.89ms	7.47ms
16	16	14099.38	19.32MB	1.14ms	16.25ms
32	32	17822.59	24.42MB	1.79ms	24.80ms
64	64	23232.27	31.84MB	2.94ms	204.67ms
128	128	26764.35	36.68MB	5.19ms	83.64ms
256	256	28308.24	38.79MB	9.26ms	79.60ms

** update 10

*** Go 1.6.2

**** GOGC=1000

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	128.66	55.39KB	7.77ms	18.10ms
2	2	206.60	88.93KB	9.85ms	79.52ms
4	4	517.80	222.90KB	8.05ms	70.59ms
8	8	979.93	421.83KB	8.75ms	112.47ms
16	16	1449.15	623.82KB	14.33ms	495.44ms
32	32	1953.31	840.83KB	18.23ms	324.68ms
64	64	2250.17	0.95MB	32.94ms	469.18ms
128	128	2660.60	1.12MB	52.99ms	615.01ms


*** Go tip

**** GOGC=1000

Threads	Conns	Reqs/s	Speed	Avg Lat	Max Lat
1	1	131.39	56.56KB	7.62ms	25.51ms
2	2	256.72	110.50KB	7.89ms	64.16ms
4	4	518.37	223.15KB	7.85ms	56.39ms
8	8	1031.43	444.00KB	8.72ms	355.05ms
16	16	1482.25	638.07KB	15.14ms	510.27ms
32	32	2014.26	867.07KB	17.85ms	432.90ms
64	64	2352.47	0.99MB	31.80ms	502.90ms
128	128	2575.71	1.08MB	52.11ms	650.36ms
